# JavaScript数据类型

- 字符串、数字、布尔、数组、对象、Null、Undefined

## JS拥有动态类型

- 意味着相同的变量可用作不同的类型。

## JS字符串

- 字符串是存储字符的变量。
  - 字符串可以是引号中的任意文本，可以使用单引号或双引号。

- 可以在字符串中使用引号，只要不匹配包围字符串的引号即可。

## JS数字

- JS只有一种数字类型，数字可以带小数点，也可以不带。
  - 极大或极小的数字可以通过科学计数法来书写。

## JS布尔

- 布尔逻辑只有两个值：true 或 false。
  - 布尔常用在条件测试中。

## JS数组

    ```js
    // 方法1
    var cars=new Array();
    cars[0]="Audi";
    cars[1]="BMW";
    cars[2]="Volvo";

    //方法2
    var cars=new Array("Audi","BMW","Volvo");

    //方法3
    var cars=["Audi","BMW","Volvo"];
    ```
- 数组下标是基于0的，第一个项目是[0],第二个是[1],以此类推。

## JS对象

- 对象由花括号分隔，在括号内部，对象的属性以名称和值对的形式来定义，属性由逗号分隔。
- 空格和折行无关紧要，声明可横跨多行。

- 对象属性有两种寻址方式。
    ```js
    var person = {
      firstname : "Bill",
      lastname : "Gates",
      id : 5566
    }

    name = person.lastname;
    name = person["lastname"];
    ```

## Undefined 和 Null

- Undefined这个值表示变量不含有值。
  - 可以通过变量的值设置为null来清空变量。
  
## 声明变量类型

- 声明新变量时，可以使用关键词"new"来声明其类型。

  ```js
  var carname = new String;
  var x = new Number;
  var y = new Boolean;
  var cars = new Array;
  var person = new Object;
  ```

  - JS变量均为对象，声明了一个变量时，就创建了一个新的对象。

## ECMAScript原始值和引用值

- 在ECMAScript中，变量可以存在两种类型的值，即原始值和引用值。
  - 原始值: 存储在栈中的简单数据段，也就是说它们的值直接存储在变量访问的位置。
  - 引用值: 存储在堆中的对象，也就是说存储在变量处的值是一个指针，指向存储对象的内存处。

- 为变量赋值时，ECMAScript的解释程序必须判断该值是原始类型还是引用类型。
  - 要实现这一点，解释程序则需尝试判断**该值是否为ECMAScript的原始类型之一**，即Undefined、Null、Boolean、Number和String型。
  - 由于这些原始类型占据的空间是固定的，所以可将它们存储在较小的内存区域---栈中，这样存储便于迅速查询变量的值。
  - 在很多语言中，因为字符串的长度是可变的，所以都被看作引用类型，但ECMAScript打破了这一传统。
- 如果一个值是引用类型的，那么它的存储空间将从堆中分配，由于引用值的大小会改变，所以不能把它放在栈中，否则会降低变量查询的速度。
  - 相反，放在变量的栈空间中的值是该对象存储在堆中的地址。
  - 地址的大小是固定的，所以把它存储在栈中对变量性能无任何负面影响。

### 原始类型

- ECMAScript有5种原始类型，即Undefined、Null、Boolean、Number和String。
  - ECMA-262把术语类型定义为值的一个集合，每种原始类型定义了它包含的值的范围及其字面量表示形式。
- ECMAScript提供了typeof运算符来判断一个值是否在某种类型的范围内，可以用这种运算符判断一个值是否表示一种原始类型。
  - 如果它是原始类型，还可以判断它表示哪种原始类型。

- typeof运算符有一个参数，即要检查的变量或值。
- 对变量或值调用typeof运算符将返回下列值之一:
  - undefined - 如果变量是 Undefined 类型的
  - boolean - 如果变量是 Boolean 类型的
  - number - 如果变量是 Number 类型的
  - string - 如果变量是 String 类型的
  - object - 如果变量是一种引用类型或 Null 类型的
- typeof运算符对于null值会返回"Object"，实际上是JavaScript最初实现中的一个错误，被ECMAScript沿用了。
  - 现在null被认为是对象的占位符，从而解释了这一矛盾，但从技术上说，它仍是原始值。

### Undefined类型

- Undefined类型只有一个值，即undefined，当声明的变量未初始化时，该变量的默认值是undefined。
  - 值undefined并不同于未定义的值，但是typeof运算符并不真正区分这两种值。
  - 当函数无明确返回值时，返回的也是值"undefined".

### Null类型

- 另一种只有一个值的类型是Null，它只有一个专用值null，即它的字面量。值undefined实际上是从值null派生来的。
  - 因此ECMAScript把它们定义为相等的。
  - 尽管这两个值相等，但他们的含义不同。
    - undefined是声明了变量但未对其初始化时赋予该变量的值。
    - null则用于表示尚未存在的对象。
      - 如果函数或方法要返回的是对象，那么找不到该对象时，返回的通常是null。

### Boolean类型

- Boolean类型是ECMAScript中最常用的类型之一。它有两个值true和false，也是两个Boolean字面量。
  - 即使false不等于0，0也可以在必要时被转换为false，这样在Boolean语句中使用两者都是安全的。

###　Number类型

- ECMA-262中定义的最特殊的类型是Number类型，这种类型既可以表示32位3整数，还可以表示64位的浮点数。
  - 直接输入的（而不是从另一个变量访问的）任何数字都被看做Number类型的字面量。

#### 八进制数和十六进制数

- 整数也可以被表示为八进制或十六进制的字面量。
  - 八进制字面量的首数字必须是0，其后的数字可以是任何八进制数字。
  - 十六进制的字面量首位数字必须为0，后面接字母x,然后是任意的十六进制数字，这些字母可以是大写的，也可以是小写的。
- 尽管所有整数都可以表示为八进制或十六进制的字面量，但所有数学运算返回的都是十进制结果。

#### 浮点数

- 要定义浮点值，必须包括小数点和小数点后的一位数字，这被看作浮点数字面量。
- 在用浮点字面量计算前，真正存储的的是字符串。

#### 科学计数法

- 对于非常大或者非常小的数，可以用科学计数法来表示浮点数，可以把一个数表示为数字（包括十进制数字）加e（或E），后面乘10的倍数。

- 也可以用科学计数法表示非常小的数。
- ECMAScript默认把具有6个或6个以上前导0的浮点数转换成科学记数法。
- 也可以用64位IEEE754形式存储浮点值，这意味着十进制值最多可以有17个十进制位，17位之后的值将被裁去，从而造成一些小的数学误差。

#### 特殊的Number值

- 几个特殊值也被定义为Number类型，前两个是Number.MAX_VALUE和Number.MIN_VALUE.
  - 它们定义了Number值集合的外边界，所有的ECMAScript数都必须在这两个值之间。不过计算生成的数值结果可以不落在这两个值之间。
  - 当计算生成的数大于Number.MAX_VALUE时，它将被赋予值Number.POSITIVE_INFINITY,意味着不再有数字值。
    - 同样当生成的数值小于Number.MIN_VALUE的计算也会被赋予值Number.NEGATIVE_INFINITY.
    - 如果计算返回的是无穷大值，那么生成的结果不能再用于其他计算。

- 事实上有专门的值表示无穷大，即Infinity.
  - Number.POSITIVE_INFINITY的值为Infinity.
  - Number.NEGATIVE_INFINITY的值为-Infinity
- 由于无穷大数可以是正数，也可以是负数。所以可用一个方法判断一个数是否是有穷的，而不是单独测试每个无穷数。
  - 可以对任何数调用isFinite()方法，以确保该数不是无穷大。

- NaN表示非数，它是个奇怪的特殊值。
  - 一般来说，这种情况发生在类型(String、Boolean等)转换失败时。
  - 与无穷大一样，NaN也不能用于算术计算。
  - NaN的另一个奇特之处在于，它与自身不相等。

### String类型

- String类型是唯一没有固定大小的原始类型.
  - 可以用字符串存储0或更多的Unincode字符，有16位整数表示。
- 字符串中每个字符都有特定的位置，首字符从位置0开始，第二个字符在位置1。
  - 字符串中的最后一个字符的位置一定是字符串的长度减1;
- 字符串字面量是由双引号(")或单引号(')声明的。
  - 由于ECMAScript没有字符类型，所以可使用这两种表示法中的任何一种。
- String类型还包括几种字符字面量。

  | 字面量 | 含义 |
  | :--: | :--: |
  | \n | 换行 |
  | \t | 制表符 |
  | \b | 空格 |
  | \r | 回车 |
  | \f | 换页符 |
  | \\ | 反斜杠 |
  | \' | 单引号 |
  | \" | 双引号 |
  | \0nnn | 八进制代表nnn表示的字符(n是0到7中的一个八进制数字) |
  | \xnn | 十六进制代码nn表示的字符(n是0到F中的一个十六进制数字) |
  | \unnnn | 十六进制代码nnnn表示的Unicode字符(n是0到F中的一个十六进制数字） })